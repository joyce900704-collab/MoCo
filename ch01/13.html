<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>定位與感測器測試</title>
</head>

<body>
  <h1>定位與感測器測試頁面</h1>
  <button onclick="getLocation()">取得定位</button>
  <button onclick="requestSensorPermissions()">請求感測器權限</button>

  <script>
    // 檢查瀏覽器是否支援地理位置 
    if ("geolocation" in navigator) {
      console.log("地理位置服務可用");
    } else {
      console.log("地理位置服務不可用");
    }

    function getLocation() {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          console.log("位置取得成功:", position);
          handlePosition(position);
        },
        (error) => {
          console.log("位置取得失敗:", error);
        }
      );
    }

    // 請求感測器權限（注意：部分瀏覽器可能不支援）
    async function requestSensorPermissions() {
      try {
        if (navigator.permissions) {
          await navigator.permissions.query({ name: "accelerometer" });
          await navigator.permissions.query({ name: "gyroscope" });
        }
      } catch (error) {
        console.log("權限請求可能不被支援");
      }
    }

    function handlePosition(position) {
      const coords = position.coords;

      console.log("緯度:", coords.latitude);
      console.log("經度:", coords.longitude);
      console.log("海拔:", coords.altitude);
    }
  </script>
</body>
</html>
